{% extends "base.html" %}
<!-- Set the title for leaderboard page -->
{% block title %} - Leaderboard{% endblock title %}

<!-- Content block for the Leaderboard page -->
{% block content %}
<div class="card card-body">
    <!-- Heading with an icon for the Leaderboard -->
    <div class="d-flex justify-content-between">
        <div></div>
        <h3 class="text-dark text-center mb-4"><i class="fas fa-list-ol"></i> Leaderboard</h3>
        <div><button type="button" class="btn btn-primary btn-sm" id="newGameBtn">New Game</button></div>
    </div>
    
    <!-- Table displaying leaderboard data with columns for Rank, Player, Win, Lost, and Highest Score -->
    <table class="table table-striped table-bordered text-center">
        <thead>
            <tr>
                <th style="width: 16%;">Rank</th>
                <th style="width: 21%;">Player</th>
                <th style="width: 21%;">Win</th>
                <th style="width: 21%;">Lost</th>
                <th style="width: 21%;">Highest Score</th>
            </tr>
        </thead>
        <tbody>
            <!-- Loop through players and display their information in the table -->
            {% for player in players %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ player.username }}</td>
                <td>{{ player.total_win }}</td>
                <td>{{ player.total_lost }}</td>
                <td>{{ player.score }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}
{% block script %}
<script>
// this gonna store a autostart value on browser localStorage so on the playground page we can access it start the game on page load
$("#newGameBtn").click(function(){
    localStorage.setItem("autostart", true);
    window.location.href = "/";
});
</script>
{% endblock script %}